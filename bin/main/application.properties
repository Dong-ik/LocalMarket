# Application Configuration
spring.application.name=localmarket
server.port=8080
server.servlet.context-path=/

# HikariCP Configuration (DataSource)
spring.datasource.hikari.jdbc-url=jdbc:mysql://localhost:3306/localmarket?serverTimezone=Asia/Seoul&characterEncoding=UTF-8&useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.hikari.username=root
spring.datasource.hikari.password=1111
spring.datasource.hikari.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.pool-name=LocalMarketHikariPool

# MyBatis Configuration
mybatis.mapper-locations=classpath:/mapper/sql-*.xml
mybatis.type-aliases-package=com.localmarket.domain
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.configuration.use-generated-keys=true
mybatis.configuration.default-executor-type=reuse
mybatis.configuration.cache-enabled=false

# JSON Configuration
spring.jackson.property-naming-strategy=LOWER_CAMEL_CASE
spring.jackson.default-property-inclusion=NON_NULL
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=Asia/Seoul

# Multipart Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Static Resource Configuration
spring.web.resources.static-locations=classpath:/static/,classpath:/public/,file:src/main/static/
file.upload.directory=src/main/static/images/markets/

# Security Configuration
spring.security.user.name=admin
spring.security.user.password=admin123

# Logging Configuration
logging.level.com.localmarket=DEBUG
logging.level.com.localmarket.mapper=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.mybatis=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Thymeleaf Configuration (개발 모드)
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8

# Swagger Configuration (springdoc-openapi dependency required)
# springdoc.api-docs.path=/v3/api-docs
# springdoc.swagger-ui.path=/swagger-ui.html

# Spring SQL Initialization (비밀번호 마이그레이션) - 평문 비밀번호 사용 중
# spring.sql.init.mode=always
# spring.sql.init.data-locations=classpath:data-mysql.sql
# spring.sql.init.platform=mysql
# 주의: BCrypt 해시가 검증되면 위 설정을 활성화하세요

# Kakao Map API Configuration
# 카카오맵 API 키는 환경 변수 KAKAO_MAP_API_KEY로 설정하거나
# 여기에 직접 입력할 수 있습니다. (보안상 환경 변수 사용 권장)
kakao.map.api.key=${KAKAO_MAP_API_KEY:be570b3ab5e159c8e0afc5d9e818fe85}
