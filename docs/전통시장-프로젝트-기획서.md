전통시장 프로젝트

- 스토리 보드 작성
	- 일정계획 : 25/10/30~25/11/18
	- 주제(컨셉) : 대한민국 전통시장 쇼핑몰(전통시작 활성화를 위한 각 전통시장 소개 및 사용자들의 리뷰로 인한 질 좋은 상품을 구매할 수 있는 쇼핑몰)
	- 기능 흐름도(세부구조도) : 작성하기

-회원기능
	-회원가입
	-이메일/전화번호 중복체크 및 이메일/닉네임/전화번호/비밀번호(네이버 API 이용 가입가능하게 해보기)
	-마이페이지(관심 시장 조회 및 삭제)
	-회원정보조회
	-회원정보수정
	-회원정보삭제

- 지역별 전통시장 목록
	- 지역별 전통시장 조회
	- 전통시장별 가게 목록
	- 전통시장별 가게 등록
	- 전통시장별 가게 삭제
	- 전통시장별 가게 조회
	- 사용자 위치 기반으로 최초 지역 설정
	- 사용자 위치 기반 인근 전통시장 서칭
	- 전통시장 게시글 자동 서칭 링크

- 물품 구매 기능
	- 판매물품 등록
	- 판매물품 삭제
	- 판매물품 조회
	- 장바구니 추가
	- 장바구니 삭제
	- 장바구니 조회
	- 주문내역 및 결제
	- 주문상세내역
	- 결제 취소(주문상세내역에서 취소 실시)

- 커뮤니티 기능
	- 게시글(리뷰) 목록 조회
	- 게시글(리뷰) 상세 조회
	- 게시글(리뷰) 등록
	- 게시글(리뷰) 수정
	- 게시글(리뷰) 삭제
	- 게시글(리뷰) 좋아요 기능
	- 댓글 조회
	- 댓글 별 대댓글 조회
	- 댓글/대댓글 등록
	- 댓글/대댓글 수정
	- 댓글/대댓글 삭제
	- 댓글/대댓글 좋아요 기능

데이터 베이스를 활용하기
================================================================================
               전통시장 쇼핑몰 데이터베이스 설계 문서
================================================================================

목차
----
1. member (회원) 테이블
2. market (시장) 테이블
3. store (가게) 테이블
4. product (상품) 테이블
5. cart (장바구니) 테이블
6. orders (주문/결제) 테이블
7. order_detail (주문 상세 + 결제 취소) 테이블
8. board (게시판/리뷰) 테이블
9. comment (댓글/대댓글) 테이블
10. favorite (관심 등록) 테이블
11. 뷰 테이블 (View Tables)
12. ERD 관계도

================================================================================
1. member (회원) 테이블
================================================================================

CREATE TABLE member (
    member_num INT PRIMARY KEY AUTO_INCREMENT,
    member_id VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    member_name VARCHAR(100) NOT NULL,
    birth DATE,
    gender VARCHAR(10),
    national VARCHAR(20),
    phone VARCHAR(20) UNIQUE,
    member_address VARCHAR(255),
    email VARCHAR(100) UNIQUE,
    member_grade VARCHAR(20) DEFAULT 'BUYER',
    created_date DATETIME DEFAULT CURRENT_TIMESTAMP
);

칼럼 상세 정보:
--------------------------------------------------------------------------------
칼럼명              타입            제약조건              설명
--------------------------------------------------------------------------------
member_num          INT             PK, AI               회원번호
member_id           VARCHAR(50)     UNIQUE, NOT NULL     회원ID
password            VARCHAR(255)    NOT NULL             비밀번호 (암호화)
birth               DATE                                 생년월일
gender              VARCHAR(10)                          성별
national            VARCHAR(20)                          내/외국인
phone               VARCHAR(20)     UNIQUE               전화번호
member_address      VARCHAR(255)                         주소
email               VARCHAR(100)    UNIQUE               이메일
member_grade        VARCHAR(20)     DEFAULT 'BUYER'      이용권한 (ADMIN/SELLER/BUYER)
created_date        DATETIME        DEFAULT NOW          가입일자


================================================================================
2. market (시장) 테이블
================================================================================

CREATE TABLE market (
    market_id INT PRIMARY KEY AUTO_INCREMENT,
    market_name VARCHAR(100) NOT NULL,
    market_local VARCHAR(50) NOT NULL,
    market_address VARCHAR(255),
    market_introduce TEXT,
    market_filename VARCHAR(255),
    market_URL VARCHAR(255),
    created_date DATETIME DEFAULT CURRENT_TIMESTAMP
);

칼럼 상세 정보:
--------------------------------------------------------------------------------
칼럼명              타입            제약조건              설명
--------------------------------------------------------------------------------
market_id           INT             PK, AI               시장번호
market_name         VARCHAR(100)    NOT NULL             시장이름
market_local        VARCHAR(50)     NOT NULL             시장지역
market_address      VARCHAR(255)                         시장주소
market_introduce    TEXT                                 시장설명
market_filename     VARCHAR(255)                         시장이미지 파일이름
market_URL          VARCHAR(255)                         시장 웹사이트 URL
created_date        DATETIME        DEFAULT NOW          등록일자


================================================================================
3. store (가게) 테이블
================================================================================

CREATE TABLE store (
    store_id INT PRIMARY KEY AUTO_INCREMENT,
    store_name VARCHAR(100) NOT NULL,
    store_index VARCHAR(50),
    store_category VARCHAR(50),
    store_filename VARCHAR(255),
    market_id INT NOT NULL,
    member_num INT,
    created_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (market_id) REFERENCES market(market_id) ON DELETE CASCADE,
    FOREIGN KEY (member_num) REFERENCES member(member_num) ON DELETE SET NULL
);

칼럼 상세 정보:
--------------------------------------------------------------------------------
칼럼명              타입            제약조건              설명
--------------------------------------------------------------------------------
store_id            INT             PK, AI               가게번호
store_name          VARCHAR(100)    NOT NULL             가게이름
store_index         VARCHAR(50)                          시장별 가게위치
store_category      VARCHAR(50)                          판매상품 카테고리
store_filename      VARCHAR(255)                         가게이미지 파일이름
market_id           INT             FK, NOT NULL         시장ID
member_num          INT             FK                   판매자 회원번호
created_date        DATETIME        DEFAULT NOW          등록일자


================================================================================
4. product (상품) 테이블
================================================================================

CREATE TABLE product (
    product_id INT PRIMARY KEY AUTO_INCREMENT,
    product_name VARCHAR(200) NOT NULL,
    product_price DECIMAL(10,2) NOT NULL,
    product_amount INT DEFAULT 0,
    product_filename VARCHAR(255),
    store_id INT NOT NULL,
    created_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_date DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (store_id) REFERENCES store(store_id) ON DELETE CASCADE
);

칼럼 상세 정보:
--------------------------------------------------------------------------------
칼럼명              타입            제약조건              설명
--------------------------------------------------------------------------------
product_id          INT             PK, AI               상품번호
product_name        VARCHAR(200)    NOT NULL             상품이름
product_price       DECIMAL(10,2)   NOT NULL             상품가격
product_amount      INT             DEFAULT 0            상품수량
product_filename    VARCHAR(255)                         상품이미지 파일이름
store_id            INT             FK, NOT NULL         가게ID
created_date        DATETIME        DEFAULT NOW          등록일자
updated_date        DATETIME        AUTO UPDATE          수정일자


================================================================================
5. cart (장바구니) 테이블
================================================================================

CREATE TABLE cart (
    cart_id INT PRIMARY KEY AUTO_INCREMENT,
    member_num INT NOT NULL,
    product_id INT NOT NULL,
    cart_quantity INT NOT NULL DEFAULT 1,
    cart_price DECIMAL(10,2) NOT NULL,
    cart_selected BOOLEAN DEFAULT TRUE,
    created_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_date DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (member_num) REFERENCES member(member_num) ON DELETE CASCADE,
    FOREIGN KEY (product_id) REFERENCES product(product_id) ON DELETE CASCADE,
    UNIQUE KEY unique_cart_item (member_num, product_id)
);

칼럼 상세 정보:
--------------------------------------------------------------------------------
칼럼명              타입            제약조건              설명
--------------------------------------------------------------------------------
cart_id             INT             PK, AI               장바구니번호
member_num          INT             FK, NOT NULL         회원번호
product_id          INT             FK, NOT NULL         상품번호
cart_quantity       INT             NOT NULL, DEFAULT 1  장바구니 수량
cart_price          DECIMAL(10,2)   NOT NULL             담을 때 상품 단가
cart_selected       BOOLEAN         DEFAULT TRUE         선택 여부
created_date        DATETIME        DEFAULT NOW          추가일자
updated_date        DATETIME        AUTO UPDATE          수정일자


================================================================================
6. orders (주문/결제) 테이블
================================================================================

CREATE TABLE orders (
    order_id INT PRIMARY KEY AUTO_INCREMENT,
    member_num INT NOT NULL,
    order_total_price DECIMAL(10,2) NOT NULL,
    order_status VARCHAR(20) DEFAULT 'PENDING',
    order_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    delivery_address VARCHAR(255),
    delivery_phone VARCHAR(20),
    request_message TEXT,
    payment_method VARCHAR(20),
    payment_status VARCHAR(20) DEFAULT 'PENDING',
    payment_date DATETIME,
    transaction_id VARCHAR(100),
    FOREIGN KEY (member_num) REFERENCES member(member_num) ON DELETE CASCADE
);

칼럼 상세 정보:
--------------------------------------------------------------------------------
칼럼명              타입            제약조건              설명
--------------------------------------------------------------------------------
order_id            INT             PK, AI               주문번호
member_num          INT             FK, NOT NULL         회원번호
order_total_price   DECIMAL(10,2)   NOT NULL             주문 총액
order_status        VARCHAR(20)     DEFAULT 'PENDING'    주문 상태 (PENDING/CONFIRMED/SHIPPED/COMPLETED)
order_date          DATETIME        DEFAULT NOW          주문 날짜
delivery_address    VARCHAR(255)                         배송지 주소
delivery_phone      VARCHAR(20)                          배송지 전화번호
request_message     TEXT                                 배송 요청사항
payment_method      VARCHAR(20)                          결제 수단 (CARD/BANK/KAKAO/NAVER)
payment_status      VARCHAR(20)     DEFAULT 'PENDING'    결제 상태 (PENDING/COMPLETED/FAILED)
payment_date        DATETIME                             결제 날짜
transaction_id      VARCHAR(100)                         PG사 거래번호


================================================================================
7. order_detail (주문 상세 + 결제 취소) 테이블 ★
================================================================================

CREATE TABLE order_detail (
    order_detail_id INT PRIMARY KEY AUTO_INCREMENT,
    order_id INT NOT NULL,
    product_id INT NOT NULL,
    store_id INT NOT NULL,
    order_quantity INT NOT NULL,
    order_price DECIMAL(10,2) NOT NULL,
    cancel_status VARCHAR(20) DEFAULT 'NONE',
    cancel_date DATETIME,
    cancel_reason TEXT,
    FOREIGN KEY (order_id) REFERENCES orders(order_id) ON DELETE CASCADE,
    FOREIGN KEY (product_id) REFERENCES product(product_id) ON DELETE CASCADE,
    FOREIGN KEY (store_id) REFERENCES store(store_id) ON DELETE CASCADE
);

칼럼 상세 정보:
--------------------------------------------------------------------------------
칼럼명              타입            제약조건              설명
--------------------------------------------------------------------------------
order_detail_id     INT             PK, AI               주문상세번호
order_id            INT             FK, NOT NULL         주문번호
product_id          INT             FK, NOT NULL         상품번호
store_id            INT             FK, NOT NULL         가게번호
order_quantity      INT             NOT NULL             주문 수량
order_price         DECIMAL(10,2)   NOT NULL             주문 당시 상품 가격
cancel_status       VARCHAR(20)     DEFAULT 'NONE'       취소 상태 (NONE/REQUESTED/APPROVED/REJECTED/REFUNDED) ★
cancel_date         DATETIME                             취소 요청/처리 날짜 ★
cancel_reason       TEXT                                 취소 사유 ★


================================================================================
8. board (게시판/리뷰) 테이블
================================================================================

CREATE TABLE board (
    board_id INT PRIMARY KEY AUTO_INCREMENT,
    board_title VARCHAR(200) NOT NULL,
    board_content TEXT NOT NULL,
    hit_cnt INT DEFAULT 0,
    like_cnt INT DEFAULT 0,
    write_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_date DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    member_num INT NOT NULL,
    store_id INT,
    FOREIGN KEY (member_num) REFERENCES member(member_num) ON DELETE CASCADE,
    FOREIGN KEY (store_id) REFERENCES store(store_id) ON DELETE CASCADE
);

칼럼 상세 정보:
--------------------------------------------------------------------------------
칼럼명              타입            제약조건              설명
--------------------------------------------------------------------------------
board_id            INT             PK, AI               게시글번호
board_title         VARCHAR(200)    NOT NULL             게시글 제목
board_content       TEXT            NOT NULL             게시글 내용
hit_cnt             INT             DEFAULT 0            조회수
like_cnt            INT             DEFAULT 0            좋아요 수
write_date          DATETIME        DEFAULT NOW          작성일자
updated_date        DATETIME        AUTO UPDATE          수정일자
member_num          INT             FK, NOT NULL         작성자 회원번호
store_id            INT             FK                   가게번호 (가게 리뷰인 경우)


================================================================================
9. comment (댓글/대댓글) 테이블
================================================================================

CREATE TABLE comment (
    comment_id INT PRIMARY KEY AUTO_INCREMENT,
    board_id INT NOT NULL,
    member_num INT NOT NULL,
    parent_comment_id INT,
    comment_content TEXT NOT NULL,
    like_cnt INT DEFAULT 0,
    created_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_date DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (board_id) REFERENCES board(board_id) ON DELETE CASCADE,
    FOREIGN KEY (member_num) REFERENCES member(member_num) ON DELETE CASCADE,
    FOREIGN KEY (parent_comment_id) REFERENCES comment(comment_id) ON DELETE CASCADE
);

칼럼 상세 정보:
--------------------------------------------------------------------------------
칼럼명              타입            제약조건              설명
--------------------------------------------------------------------------------
comment_id          INT             PK, AI               댓글번호
board_id            INT             FK, NOT NULL         게시글번호
member_num          INT             FK, NOT NULL         작성자 회원번호
parent_comment_id   INT             FK                   부모 댓글번호 (대댓글인 경우)
comment_content     TEXT            NOT NULL             댓글 내용
like_cnt            INT             DEFAULT 0            좋아요 수
created_date        DATETIME        DEFAULT NOW          작성일자
updated_date        DATETIME        AUTO UPDATE          수정일자


================================================================================
10. favorite (관심 등록) 테이블
================================================================================

CREATE TABLE favorite (
    favorite_id INT PRIMARY KEY AUTO_INCREMENT,
    member_num INT NOT NULL,
    target_type VARCHAR(20) NOT NULL,
    target_id INT NOT NULL,
    created_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (member_num) REFERENCES member(member_num) ON DELETE CASCADE,
    UNIQUE KEY unique_favorite (member_num, target_type, target_id)
);

칼럼 상세 정보:
--------------------------------------------------------------------------------
칼럼명              타입            제약조건              설명
--------------------------------------------------------------------------------
favorite_id         INT             PK, AI               관심 등록번호
member_num          INT             FK, NOT NULL         회원번호
target_type         VARCHAR(20)     NOT NULL             대상 타입 (MARKET/STORE)
target_id           INT             NOT NULL             대상 ID (market_id or store_id)
created_date        DATETIME        DEFAULT NOW          등록 날짜


================================================================================
11. 뷰 테이블 (View Tables)
================================================================================

------------------------------------------------------------
11-1. 시장 찜 목록 뷰
------------------------------------------------------------

CREATE VIEW view_market_favorites AS
SELECT 
    f.favorite_id,
    f.member_num,
    f.created_date,
    m.market_id,
    m.market_name,
    m.market_local,
    m.market_address,
    m.market_introduce,
    m.market_filename,
    m.market_URL
FROM favorite f
INNER JOIN market m ON f.target_id = m.market_id
WHERE f.target_type = 'MARKET';

사용 예제:
-- 특정 회원이 찜한 시장 목록
SELECT * FROM view_market_favorites 
WHERE member_num = 1 
ORDER BY created_date DESC;


------------------------------------------------------------
11-2. 가게 찜 목록 뷰
------------------------------------------------------------

CREATE VIEW view_store_favorites AS
SELECT 
    f.favorite_id,
    f.member_num,
    f.created_date,
    s.store_id,
    s.store_name,
    s.store_category,
    m.market_name,
    m.market_local
FROM favorite f
INNER JOIN store s ON f.target_id = s.store_id
INNER JOIN market m ON s.market_id = m.market_id
WHERE f.target_type = 'STORE';

사용 예제:
-- 특정 회원이 찜한 가게 목록
SELECT * FROM view_store_favorites 
WHERE member_num = 1 
ORDER BY created_date DESC;


------------------------------------------------------------
11-3. 통합 찜 목록 뷰
------------------------------------------------------------

CREATE VIEW view_all_favorites AS
SELECT 
    f.favorite_id,
    f.member_num,
    f.target_type,
    f.target_id,
    f.created_date,
    m.market_name AS name,
    m.market_local AS location,
    'MARKET' AS type
FROM favorite f
INNER JOIN market m ON f.target_id = m.market_id
WHERE f.target_type = 'MARKET'

UNION ALL

SELECT 
    f.favorite_id,
    f.member_num,
    f.target_type,
    f.target_id,
    f.created_date,
    s.store_name AS name,
    m.market_local AS location,
    'STORE' AS type
FROM favorite f
INNER JOIN store s ON f.target_id = s.store_id
INNER JOIN market m ON s.market_id = m.market_id
WHERE f.target_type = 'STORE';

사용 예제:
-- 특정 회원의 모든 찜 목록 (시장+가게)
SELECT * FROM view_all_favorites 
WHERE member_num = 1 
ORDER BY created_date DESC;


------------------------------------------------------------
11-4. 시장별 찜 통계 뷰
------------------------------------------------------------

CREATE VIEW view_market_favorite_stats AS
SELECT 
    m.market_id,
    m.market_name,
    m.market_local,
    COUNT(f.favorite_id) AS favorite_count
FROM market m
LEFT JOIN favorite f ON m.market_id = f.target_id AND f.target_type = 'MARKET'
GROUP BY m.market_id, m.market_name, m.market_local;

사용 예제:
-- 인기 시장 순위 (찜 많은 순)
SELECT * FROM view_market_favorite_stats 
ORDER BY favorite_count DESC 
LIMIT 10;


------------------------------------------------------------
11-5. 가게별 찜 통계 뷰
------------------------------------------------------------

CREATE VIEW view_store_favorite_stats AS
SELECT 
    s.store_id,
    s.store_name,
    s.store_category,
    m.market_name,
    m.market_local,
    COUNT(f.favorite_id) AS favorite_count
FROM store s
INNER JOIN market m ON s.market_id = m.market_id
LEFT JOIN favorite f ON s.store_id = f.target_id AND f.target_type = 'STORE'
GROUP BY s.store_id, s.store_name, s.store_category, m.market_name, m.market_local;

사용 예제:
-- 인기 가게 순위
SELECT * FROM view_store_favorite_stats 
ORDER BY favorite_count DESC 
LIMIT 10;


------------------------------------------------------------
11-6. 주문 내역 상세 뷰
------------------------------------------------------------

CREATE VIEW view_order_details AS
SELECT 
    od.order_detail_id,
    od.order_id,
    o.member_num,
    o.order_date,
    o.order_status,
    p.product_name,
    od.order_quantity,
    od.order_price,
    s.store_name,
    m.market_name,
    od.cancel_status,
    od.cancel_date,
    od.cancel_reason
FROM order_detail od
INNER JOIN orders o ON od.order_id = o.order_id
INNER JOIN product p ON od.product_id = p.product_id
INNER JOIN store s ON od.store_id = s.store_id
INNER JOIN market m ON s.market_id = m.market_id;

사용 예제:
-- 특정 회원의 주문 내역
SELECT * FROM view_order_details 
WHERE member_num = 1 
ORDER BY order_date DESC;


------------------------------------------------------------
11-7. 취소된 주문 내역 뷰
------------------------------------------------------------

CREATE VIEW view_cancelled_orders AS
SELECT 
    od.order_detail_id,
    od.order_id,
    o.member_num,
    o.order_date,
    p.product_name,
    od.order_quantity,
    od.order_price,
    s.store_name,
    od.cancel_status,
    od.cancel_date,
    od.cancel_reason
FROM order_detail od
INNER JOIN orders o ON od.order_id = o.order_id
INNER JOIN product p ON od.product_id = p.product_id
INNER JOIN store s ON od.store_id = s.store_id
WHERE od.cancel_status != 'NONE';

사용 예제:
-- 특정 회원의 취소된 주문 내역
SELECT * FROM view_cancelled_orders 
WHERE member_num = 1 
ORDER BY cancel_date DESC;


------------------------------------------------------------
11-8. 회원별 찜 통계 뷰
------------------------------------------------------------

CREATE VIEW view_member_favorite_stats AS
SELECT 
    member_num,
    COUNT(CASE WHEN target_type = 'MARKET' THEN 1 END) AS market_count,
    COUNT(CASE WHEN target_type = 'STORE' THEN 1 END) AS store_count,
    COUNT(*) AS total_count
FROM favorite
GROUP BY member_num;

사용 예제:
-- 특정 회원의 찜 통계
SELECT * FROM view_member_favorite_stats 
WHERE member_num = 1;


================================================================================
12. ERD 관계도
================================================================================

member ─┬─→ cart → product → store → market
        ├─→ orders → order_detail → product/store
        ├─→ board → comment
        ├─→ favorite (→ market/store)
        └─→ store (판매자)


테이블 간 관계:
------------------------------------------------------------
1. member → cart (1:N)
   - 한 회원은 여러 장바구니 항목을 가질 수 있음

2. member → orders (1:N)
   - 한 회원은 여러 주문을 할 수 있음

3. member → board (1:N)
   - 한 회원은 여러 게시글을 작성할 수 있음

4. member → comment (1:N)
   - 한 회원은 여러 댓글을 작성할 수 있음

5. member → favorite (1:N)
   - 한 회원은 여러 시장/가게를 찜할 수 있음

6. member → store (1:N)
   - 한 판매자(회원)는 여러 가게를 운영할 수 있음

7. market → store (1:N)
   - 한 시장에는 여러 가게가 있음

8. store → product (1:N)
   - 한 가게에는 여러 상품이 있음

9. store → board (1:N)
   - 한 가게에 대해 여러 리뷰가 작성될 수 있음

10. product → cart (1:N)
    - 한 상품은 여러 회원의 장바구니에 담길 수 있음

11. orders → order_detail (1:N)
    - 한 주문에는 여러 상품이 포함될 수 있음

12. board → comment (1:N)
    - 한 게시글에는 여러 댓글이 달릴 수 있음

13. comment → comment (1:N - 자기참조)
    - 한 댓글에는 여러 대댓글이 달릴 수 있음

14. favorite → market/store (다형성 관계)
    - 찜 기능은 시장과 가게 모두에 적용됨


================================================================================
주요 개선 사항
================================================================================

✓ 결제 취소 정보를 order_detail 테이블에 통합
  - cancel_status: 취소 상태 관리
  - cancel_date: 취소 요청/처리 날짜
  - cancel_reason: 취소 사유

✓ 칼럼명 일관성 유지
  - cart_quantity, order_quantity 등 일관된 네이밍

✓ ON DELETE CASCADE 설정
  - 참조 무결성 보장
  - 부모 레코드 삭제 시 자식 레코드 자동 삭제

✓ UNIQUE 제약조건 추가
  - 중복 데이터 방지 (회원ID, 이메일, 전화번호 등)

✓ created_date/updated_date 자동 관리
  - 데이터 추적 및 이력 관리 용이

✓ 뷰 테이블 활용
  - 복잡한 조인 쿼리 간소화
  - 코드 재사용성 향상
  - 성능 최적화


================================================================================
취소 상태 (cancel_status) 값 정의
================================================================================

NONE        : 취소되지 않음 (기본값)
REQUESTED   : 취소 요청됨
APPROVED    : 취소 승인됨
REJECTED    : 취소 거절됨
REFUNDED    : 환불 완료됨


================================================================================
주문 상태 (order_status) 값 정의
================================================================================

PENDING     : 주문 대기 중
CONFIRMED   : 주문 확인됨
SHIPPED     : 배송 중
COMPLETED   : 배송 완료
CANCELLED   : 주문 취소됨


================================================================================
결제 상태 (payment_status) 값 정의
================================================================================

PENDING     : 결제 대기 중
COMPLETED   : 결제 완료
FAILED      : 결제 실패
REFUNDED    : 환불 완료


================================================================================
회원 등급 (member_grade) 값 정의
================================================================================

ADMIN       : 관리자
SELLER      : 판매자
BUYER       : 구매자 (기본값)


================================================================================
대상 타입 (target_type) 값 정의
================================================================================

MARKET      : 시장
STORE       : 가게


================================================================================
결제 수단 (payment_method) 값 정의
================================================================================

CARD        : 신용/체크카드
BANK        : 계좌이체
KAKAO       : 카카오페이
NAVER       : 네이버페이